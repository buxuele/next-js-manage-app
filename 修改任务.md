# 修改任务清单 - 将应用转换为项目管理系统

## 🎯 目标

将 Next.js 应用完全转换为项目管理系统，参照 Flask 版本的功能和界面设计，实现项目的增删改查、状态检测、目录打开等功能。

## 📋 具体修改任务

### 1. **数据模型修改**

- [ ] 修改 `src/types/` 中的类型定义
  - [ ] 将 Task 类型改为 Project 类型
  - [ ] 定义 Project 接口：id, name, description, url, path, image, created_at, updated_at
  - [ ] 删除任务相关的类型定义

### 2. **数据库结构调整**

- [ ] 修改 `database/schema.sql`
  - [ ] 删除 tasks 表，创建 projects 表
  - [ ] projects 表字段：id, user_id, name, description, url, path, image, created_at, updated_at
  - [ ] 添加相应的索引

### 3. **API 路由重构**

- [ ] 重命名和修改 API 路由
  - [ ] `/api/tasks` → `/api/projects`
  - [ ] 实现项目的 CRUD 操作
  - [ ] 添加 `/api/projects/[id]/open-folder` 打开目录功能
  - [ ] 添加 `/api/projects/[id]/upload-image` 图片上传功能
  - [ ] 添加项目状态检测相关 API

### 4. **主页路由修改**

- [ ] 修改 `src/app/page.tsx`
  - [ ] 将重定向从 `/tasks` 改为 `/projects`
  - [ ] 确保用户访问根路径时进入项目管理界面

### 5. **导航栏修改**

- [ ] 修改 `src/components/Navigation.tsx`
  - [ ] 更新品牌名称为"我的项目中心"
  - [ ] 将主要导航链接改为项目管理
  - [ ] 保留导入/导出功能（用于项目数据）

### 6. **项目管理界面开发**

- [ ] 创建 `src/app/projects/page.tsx` 项目列表页面
- [ ] 创建 `src/components/ProjectManager.tsx` 主管理组件
- [ ] 创建 `src/components/ProjectCard.tsx` 项目卡片组件
  - [ ] 显示项目名称、描述、URL、路径
  - [ ] 显示项目图片或首字母图标
  - [ ] 显示在线状态指示器
  - [ ] 包含操作按钮：访问网址、打开目录、编辑、删除

### 7. **项目卡片功能实现**

- [ ] 实现项目状态检测
  - [ ] 检测项目 URL 是否可访问
  - [ ] 显示在线/离线状态指示器
- [ ] 实现打开目录功能
  - [ ] 调用系统文件管理器打开项目路径
- [ ] 实现访问网址功能
  - [ ] 在新标签页打开项目 URL

### 8. **项目编辑功能**

- [ ] 创建 `src/components/ProjectModal.tsx` 项目编辑模态框
  - [ ] 项目名称输入
  - [ ] 项目描述输入
  - [ ] 项目 URL 输入
  - [ ] 项目路径输入
  - [ ] 项目图片上传
- [ ] 实现添加新项目功能
- [ ] 实现编辑现有项目功能

### 9. **样式和布局**

- [ ] 参照 Flask 版本设计项目卡片样式
  - [ ] 卡片网格布局（4 列响应式）
  - [ ] 项目图片显示区域
  - [ ] 状态指示器样式
  - [ ] 操作按钮布局
- [ ] 实现暗色主题（如效果图所示）
- [ ] 添加悬停效果和动画

### 10. **数据导入导出**

- [ ] 实现项目数据导出功能
  - [ ] 导出为 JSON 格式
  - [ ] 包含所有项目信息
- [ ] 实现项目数据导入功能
  - [ ] 支持 JSON 格式导入
  - [ ] 支持替换现有数据选项

### 11. **用户体验优化**

- [ ] 添加项目搜索功能
- [ ] 添加项目排序功能
- [ ] 实现批量操作（批量删除等）
- [ ] 添加右键菜单支持
- [ ] 添加快捷键支持

### 12. **登录页面更新**

- [ ] 修改 `src/app/login/page.tsx`
  - [ ] 更新页面标题为"我的项目中心"
  - [ ] 更新描述文案
  - [ ] 登录成功后重定向到 `/projects`

### 13. **配置文件更新**

- [ ] 更新 `package.json` 项目描述
- [ ] 更新 `README.md` 项目说明
- [ ] 更新应用元数据

### 14. **清理任务相关代码**

- [ ] 删除所有任务管理相关的组件
- [ ] 删除任务相关的 API 路由
- [ ] 删除任务相关的类型定义
- [ ] 清理不需要的文件和代码

## 🎨 界面设计要求

根据效果图，界面应该包含：

1. **顶部标题区域**

   - 左侧显示"start"标题
   - 右侧显示蓝色圆形添加按钮

2. **项目卡片网格**

   - 4 列响应式布局
   - 每个卡片包含：
     - 项目图片或首字母图标
     - 项目名称和描述
     - 项目路径（可复制）
     - 项目 URL（可复制）
     - 状态指示器（绿色在线/红色离线）
     - 操作按钮：打开目录、访问网址

3. **底部发现区域**
   - 显示"探索发现"标题

## 🚨 重要注意事项

1. **数据兼容性**：确保新的项目数据结构与用户认证系统兼容
2. **功能完整性**：所有 Flask 版本中的功能都要在 Next.js 版本中实现
3. **界面一致性**：严格按照效果图设计界面布局和样式
4. **性能优化**：确保项目状态检测不影响页面加载性能

## 📊 优先级排序

**高优先级（立即执行）**：

- 数据模型和 API 路由修改
- 主页路由和导航修改
- 基础项目管理界面

**中优先级（核心功能）**：

- 项目卡片和状态检测
- 项目编辑和图片上传
- 样式和布局实现

**低优先级（增强功能）**：

- 搜索和排序功能
- 批量操作和快捷键
- 用户体验优化

## ✅ 完成标准

- [ ] 用户访问应用时看到项目管理界面
- [ ] 界面与 Flask 版本效果图完全一致
- [ ] 所有项目管理功能正常工作
- [ ] 项目状态检测准确显示
- [ ] 打开目录和访问网址功能正常
- [ ] 项目图片上传和显示正常
- [ ] 数据导入导出功能完整
- [ ] 响应式设计在各种屏幕尺寸下正常
